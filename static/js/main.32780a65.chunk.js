(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c,r=n(0),a=n(1),i=n.n(a),d=n(7),o=n.n(d),l=(n(14),n(8)),s=n(2),u=n(5);!function(e){e.TDB900="TDB900",e.TDB902="TDB902",e.TDB909="TDB909",e.TDB911="TDB911"}(c||(c={}));var j={display:"flex",justifyContent:"space-between",width:"350px"},b=[{name:"Canadian Index",code:c.TDB900,targetPercent:25},{name:"USA Index",code:c.TDB902,targetPercent:25},{name:"Canadian Bonds",code:c.TDB909,targetPercent:25},{name:"International Index",code:c.TDB911,targetPercent:25}],m=[{name:"Canadian Index",code:c.TDB900,targetPercent:10},{name:"USA Index",code:c.TDB902,targetPercent:30},{name:"Canadian Bonds",code:c.TDB909,targetPercent:30},{name:"International Index",code:c.TDB911,targetPercent:30}],f=[{name:"Canadian Index",code:c.TDB900,targetPercent:40},{name:"USA Index",code:c.TDB902,targetPercent:30},{name:"Canadian Bonds",code:c.TDB909,targetPercent:0},{name:"International Index",code:c.TDB911,targetPercent:30}];var O=function(e){var t=e.fund,n=e.target,c=e.difference;return Object(r.jsxs)("li",{children:[c>=0?Object(r.jsxs)(r.Fragment,{children:["Buy $",c.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}):Object(r.jsxs)(r.Fragment,{children:["Sell $",(-c).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})," ","of ",t.name," (",t.code,") to hit $",n.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})},x=function(){var e=Object(a.useState)(b),t=Object(u.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)((function(){return{TDB900:0,TDB902:0,TDB909:0,TDB911:0}})),d=Object(u.a)(i,2),o=d[0],x=d[1],g=Object(a.useState)(0),h=Object(u.a)(g,2),D=h[0],p=h[1],B=Object.values(o).reduce((function(e,t){return e+t}),0),T=n.reduce((function(e,t){return e+t.targetPercent}),0),v=100===T,y=B+D,P=n.map((function(e){var t=e.targetPercent,n=o[e.code],c=t/100*y;return{fund:e,target:c,difference:c-n}})),C=P.filter((function(e){return e.difference<0})),F=C.reduce((function(e,t){return e+t.difference}),0),I=P.filter((function(e){return e.difference>0})),S=I.reduce((function(e,t){return e+t.fund.targetPercent}),0),k=I.map((function(e){var t=e.fund.targetPercent/S,n=e.difference+F*t,c=o[e.fund.code]+n;return Object(s.a)(Object(s.a)({},e),{},{target:c,difference:n})}));return Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(r.jsx)("h1",{children:"Portfolio Balancer"}),Object(r.jsx)("h3",{children:"Current market values"}),n.map((function(e,t){return Object(r.jsxs)("div",{style:j,children:[Object(r.jsxs)("label",{children:["$ ",e.name," (",e.code,"):"]}),Object(r.jsx)("input",{type:"number",onChange:function(t){var r=Object(l.a)(n);o[e.code]=parseFloat(t.target.value)||0,x(o),c(r)}})]},t)})),Object(r.jsxs)("div",{style:j,children:[Object(r.jsx)("label",{children:"Total:"}),Object(r.jsxs)("span",{children:["$",B.toLocaleString()]})]}),Object(r.jsx)("h3",{children:"Amount to buy"}),Object(r.jsxs)("div",{style:j,children:[Object(r.jsx)("label",{children:"Amount in CAD"}),Object(r.jsx)("input",{type:"number",onChange:function(e){return p(parseFloat(e.target.value)||0)}})]}),Object(r.jsxs)("div",{style:j,children:[Object(r.jsx)("label",{children:"New total:"}),Object(r.jsxs)("span",{children:["$",y.toLocaleString()]})]}),Object(r.jsx)("h3",{children:"Desired breakdown"}),n.map((function(e,t){return Object(r.jsxs)("div",{style:j,children:[Object(r.jsxs)("label",{children:["% ",e.name," (",e.code,"):"]}),Object(r.jsx)("input",{type:"number",value:e.targetPercent,onChange:function(e){var r=JSON.parse(JSON.stringify(n));r[t].targetPercent=parseInt(e.target.value)||0,c(r)}})]},t)})),Object(r.jsxs)("div",{style:j,children:[Object(r.jsx)("label",{children:"Total:"}),Object(r.jsxs)("span",{style:{color:v?void 0:"red"},children:[T,"%"]})]}),Object(r.jsxs)("div",{style:j,children:[Object(r.jsx)("button",{onClick:function(){return c(b)},children:"Balanced"}),Object(r.jsx)("button",{onClick:function(){return c(m)},children:"Registered"}),Object(r.jsx)("button",{onClick:function(){return c(f)},children:"Taxable"})]}),v?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:"Therefore..."}),Object(r.jsx)("ul",{children:P.map((function(e){return Object(a.createElement)(O,Object(s.a)(Object(s.a)({},e),{},{key:e.fund.code}))}))}),C.length?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:"To minimize selling..."}),Object(r.jsx)("ul",{children:k.map((function(e){return Object(a.createElement)(O,Object(s.a)(Object(s.a)({},e),{},{key:e.fund.code}))}))})]}):null]}):null]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(x,{})}),document.getElementById("root")),g()}},[[15,1,2]]]);
//# sourceMappingURL=main.32780a65.chunk.js.map