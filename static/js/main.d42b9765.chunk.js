(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c,r=n(0),i=n(1),a=n.n(i),d=n(7),l=n.n(d),o=(n(14),n(8)),s=n(2),u=n(5);!function(e){e.TDB900="TDB900",e.TDB902="TDB902",e.TDB909="TDB909",e.TDB911="TDB911"}(c||(c={}));var j={display:"flex",justifyContent:"space-between",width:"350px"},b=[{name:"Canadian Index",code:c.TDB900,targetPercent:25},{name:"USA Index",code:c.TDB902,targetPercent:25},{name:"Canadian Bonds",code:c.TDB909,targetPercent:25},{name:"International Index",code:c.TDB911,targetPercent:25}],f=[{name:"Canadian Index",code:c.TDB900,targetPercent:10},{name:"USA Index",code:c.TDB902,targetPercent:30},{name:"Canadian Bonds",code:c.TDB909,targetPercent:30},{name:"International Index",code:c.TDB911,targetPercent:30}];var m=function(e){var t=e.fund,n=e.target,c=e.difference;return Object(r.jsxs)("li",{children:[c>=0?Object(r.jsxs)(r.Fragment,{children:["Buy $",c.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}):Object(r.jsxs)(r.Fragment,{children:["Sell $",(-c).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})," ","of ",t.name," (",t.code,") to hit $",n.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})},O=function(){var e=Object(i.useState)(b),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(i.useState)((function(){return{TDB900:0,TDB902:0,TDB909:0,TDB911:0}})),d=Object(u.a)(a,2),l=d[0],O=d[1],h=Object(i.useState)(0),x=Object(u.a)(h,2),g=x[0],p=x[1],D=Object.values(l).reduce((function(e,t){return e+t}),0),v=n.reduce((function(e,t){return e+t.targetPercent}),0),B=100===v,T=D+g,y=n.map((function(e){var t=e.targetPercent,n=l[e.code],c=t/100*T;return{fund:e,target:c,difference:c-n}})),P=y.filter((function(e){return e.difference<0})),F=P.reduce((function(e,t){return e+t.difference}),0),C=y.filter((function(e){return e.difference>0})),S=C.reduce((function(e,t){return e+t.fund.targetPercent}),0),I=C.map((function(e){var t=e.fund.targetPercent/S,n=e.difference+F*t,c=l[e.fund.code]+n;return Object(s.a)(Object(s.a)({},e),{},{target:c,difference:n})}));return Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(r.jsx)("h1",{children:"Portfolio Balancer"}),Object(r.jsx)("h3",{children:"Current market values"}),n.map((function(e,t){return Object(r.jsxs)("div",{style:j,children:[Object(r.jsxs)("label",{children:["$ ",e.name," (",e.code,"):"]}),Object(r.jsx)("input",{type:"number",onChange:function(t){var r=Object(o.a)(n);l[e.code]=parseFloat(t.target.value)||0,O(l),c(r)}})]},t)})),Object(r.jsxs)("div",{style:j,children:[Object(r.jsx)("label",{children:"Total:"}),Object(r.jsxs)("span",{children:["$",D.toLocaleString()]})]}),Object(r.jsx)("h3",{children:"Amount to buy"}),Object(r.jsxs)("div",{style:j,children:[Object(r.jsx)("label",{children:"Amount in CAD"}),Object(r.jsx)("input",{type:"number",onChange:function(e){return p(parseFloat(e.target.value)||0)}})]}),Object(r.jsxs)("div",{style:j,children:[Object(r.jsx)("label",{children:"New total:"}),Object(r.jsxs)("span",{children:["$",T.toLocaleString()]})]}),Object(r.jsx)("h3",{children:"Desired breakdown"}),n.map((function(e,t){return Object(r.jsxs)("div",{style:j,children:[Object(r.jsxs)("label",{children:["% ",e.name," (",e.code,"):"]}),Object(r.jsx)("input",{type:"number",value:e.targetPercent,onChange:function(e){var r=JSON.parse(JSON.stringify(n));r[t].targetPercent=parseInt(e.target.value)||0,c(r)}})]},t)})),Object(r.jsxs)("div",{style:j,children:[Object(r.jsx)("label",{children:"Total:"}),Object(r.jsxs)("span",{style:{color:B?void 0:"red"},children:[v,"%"]})]}),Object(r.jsxs)("div",{style:j,children:[Object(r.jsx)("button",{onClick:function(){return c(b)},children:"Balanced"}),Object(r.jsx)("button",{onClick:function(){return c(f)},children:"Registered"})]}),B?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:"Therefore..."}),Object(r.jsx)("ul",{children:y.map((function(e){return Object(i.createElement)(m,Object(s.a)(Object(s.a)({},e),{},{key:e.fund.code}))}))}),P.length?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:"To minimize selling..."}),Object(r.jsx)("ul",{children:I.map((function(e){return Object(i.createElement)(m,Object(s.a)(Object(s.a)({},e),{},{key:e.fund.code}))}))})]}):null]}):null]})},h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};l.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(O,{})}),document.getElementById("root")),h()}},[[15,1,2]]]);
//# sourceMappingURL=main.d42b9765.chunk.js.map